version: 0.2
phases:
  install:
    runtime-versions:
      nodejs: 18
    commands:
      - echo "installing dependencies..."
      - npm install
      - npm install -g @angular/cli@16.1.7
    build:
      commands:
        - echo "building angular project..."
        - ng build --prod
    post-build:
      commands:
        - echo "updating files in s3 bucket..."
        - aws s3 sync dist/s3-angular-repo/ s3://static-website-demo-007 --delete
